{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProductosComponent = class ProductosComponent {\n  constructor(peticion) {\n    this.peticion = peticion;\n    this.cod_prod = \"\";\n    this.cod_cat = \"\";\n    this.precio = 0;\n    this.nombre = \"\";\n    this.estado = 1;\n    this.datos = [];\n    this.Idseleccionado = \"\";\n    this.datoscategorias = [];\n  }\n  ngOnInit() {\n    this.cargarTodascategorias();\n    this.cargarTodas();\n  }\n  cargarTodascategorias() {\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/categorias/listar\",\n      payload: {}\n    };\n    this.peticion.Post(post.host + post.path, post.payload).then(res => {\n      console.log(res);\n      this.datoscategorias = res.data;\n      console.log(this.datoscategorias);\n    });\n  }\n  cargarTodas() {\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/productos/listar\",\n      payload: {}\n    };\n    this.peticion.Post(post.host + post.path, post.payload).then(res => {\n      console.log(res);\n      this.datos = res.data;\n    });\n  }\n  AbrirModal() {\n    this.cod_prod = \"\";\n    this.nombre = \"\";\n    this.estado = 1;\n    this.Idseleccionado = \"\";\n    $('#modalNuevo').modal('show');\n  }\n  Guardar() {\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/productos/save\",\n      payload: {\n        cod_prod: this.cod_prod,\n        cod_cat: this.cod_cat,\n        precio: this.precio,\n        nombre: this.nombre,\n        estado: this.estado\n      }\n    };\n    this.peticion.Post(post.host + post.path, post.payload).then(res => {\n      console.log(res);\n      if (res.state == true) {\n        Swal.fire({\n          icon: \"success\",\n          title: \"Que Bien!\",\n          text: res.mensaje\n        });\n        $('#modalNuevo').modal('hide');\n        this.cargarTodas();\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ouchh.\",\n          text: res.mensaje\n        });\n      }\n    });\n  }\n  EditarId(id) {\n    this, this.Idseleccionado = id;\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/productos/listarid\",\n      payload: {\n        _id: id\n      }\n    };\n    this.peticion.Post(post.host + post.path, post.payload).then(res => {\n      console.log(res);\n      if (res.data != undefined) {\n        this.cod_cat = res.data[0].cod_cat;\n        this.cod_prod = res.data[0].cod_prod;\n        this.nombre = res.data[0].nombre;\n        this.precio = res.data[0].precio;\n        this.estado = res.data[0].estado;\n        $('#modalNuevo').modal('show');\n      }\n    });\n  }\n  Eliminar() {\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/productos/delete\",\n      payload: {\n        _id: this.Idseleccionado\n      }\n    };\n    this.peticion.Post(post.host + post.path, post.payload).then(res => {\n      console.log(res);\n      if (res.state == true) {\n        Swal.fire({\n          icon: \"success\",\n          title: \"Que Bien!\",\n          text: res.mensaje\n        });\n        $('#modalNuevo').modal('hide');\n        this.cargarTodas();\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ouchh.\",\n          text: res.mensaje\n        });\n      }\n    });\n  }\n  Actualizar() {\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/productos/update\",\n      payload: {\n        _id: this.Idseleccionado,\n        cod_cat: this.cod_cat,\n        nombre: this.nombre,\n        precio: this.precio,\n        estado: this.estado\n      }\n    };\n    this.peticion.Post(post.host + post.path, post.payload).then(res => {\n      console.log(res);\n      if (res.state == true) {\n        Swal.fire({\n          icon: \"success\",\n          title: \"Que Bien!\",\n          text: res.mensaje\n        });\n        $('#modalNuevo').modal('hide');\n        this.cargarTodas();\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ouchh.\",\n          text: res.mensaje\n        });\n      }\n    });\n  }\n};\nProductosComponent = __decorate([Component({\n  selector: 'app-productos',\n  templateUrl: './productos.component.html',\n  styleUrls: ['./productos.component.css']\n})], ProductosComponent);","map":{"version":3,"names":["Component","ProductosComponent","constructor","peticion","cod_prod","cod_cat","precio","nombre","estado","datos","Idseleccionado","datoscategorias","ngOnInit","cargarTodascategorias","cargarTodas","post","host","urlHost","path","payload","Post","then","res","console","log","data","AbrirModal","$","modal","Guardar","state","Swal","fire","icon","title","text","mensaje","EditarId","id","_id","undefined","Eliminar","Actualizar","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\daniz\\Desktop\\Angular\\my-app\\src\\app\\component\\productos\\productos.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { empty } from 'rxjs';\nimport { PeticionService } from 'src/app/servicios/peticion.service';\n\n\ndeclare let $:any\ndeclare let Swal:any\n\n@Component({\n  selector: 'app-productos',\n  templateUrl: './productos.component.html',\n  styleUrls: ['./productos.component.css']\n})\nexport class ProductosComponent {\n\n  constructor (private peticion:PeticionService){}\n\n  ngOnInit(): void {\n    this.cargarTodascategorias()\n    this.cargarTodas()\n  }\n\n  cod_prod:string = \"\"\n  cod_cat:string = \"\"\n  precio:Number= 0\n  nombre:string = \"\"\n  estado:number = 1\n  datos:any[] = []\n  Idseleccionado:String =\"\"\n  datoscategorias:any[] = []\n\n\n  cargarTodascategorias(){\n\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/categorias/listar\",\n      payload:{\n      }\n    }\n  this.peticion.Post(post.host+post.path, post.payload).then(\n    (res:any) => {\n      console.log(res)\n      \n      this.datoscategorias = res.data\n      console.log(this.datoscategorias)\n    }\n    \n  )\n  }\n  cargarTodas(){\n\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/productos/listar\",\n      payload:{\n      }\n    }\n  this.peticion.Post(post.host+post.path, post.payload).then(\n    (res:any) => {\n      console.log(res)\n      this.datos = res.data\n    }\n  )\n  }\n  AbrirModal(){\n    this.cod_prod = \"\"\n    this.nombre = \"\"\n    this.estado = 1\n    this.Idseleccionado = \"\"\n    $('#modalNuevo').modal('show')\n  }\n  Guardar(){\n\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/productos/save\",\n      payload:{\n        cod_prod:this.cod_prod,\n        cod_cat:this.cod_cat,\n        precio:this.precio,\n        nombre:this.nombre,\n        estado:this.estado\n      }\n    }\n  this.peticion.Post(post.host+post.path, post.payload).then(\n    (res:any) => {\n      console.log(res)\n      if(res.state == true){\n\n        Swal.fire({\n          icon: \"success\",\n          title: \"Que Bien!\",\n          text: res.mensaje,\n        });\n\n        $('#modalNuevo').modal('hide')\n        this.cargarTodas()\n      }\n      else{\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ouchh.\",\n          text: res.mensaje,\n        });\n      }\n    })\n  }\n  EditarId(id:string){\n    this,this.Idseleccionado =id\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/productos/listarid\",\n      payload:{\n        _id:id\n      }\n    }\n  this.peticion.Post(post.host+post.path, post.payload).then(\n    (res:any) => {\n      console.log(res)\n      if(res.data != undefined){\n        this.cod_cat = res.data[0].cod_cat\n        this.cod_prod = res.data[0].cod_prod\n        this.nombre = res.data[0].nombre\n        this.precio = res.data[0].precio\n        this.estado = res.data[0].estado\n        $('#modalNuevo').modal('show')\n      }\n    }\n  )\n    \n  }\n  Eliminar(){\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/productos/delete\",\n      payload:{\n        _id:this.Idseleccionado\n      }\n    }\n    this.peticion.Post(post.host+post.path, post.payload).then(\n      (res:any) => {\n        console.log(res)\n        if(res.state == true){\n\n          Swal.fire({\n            icon: \"success\",\n            title: \"Que Bien!\",\n            text: res.mensaje,\n          });\n\n          $('#modalNuevo').modal('hide')\n          this.cargarTodas()\n        }\n        else{\n          Swal.fire({\n            icon: \"error\",\n            title: \"Ouchh.\",\n            text: res.mensaje,\n          });\n        }\n      })\n  }\n  Actualizar(){\n\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/productos/update\",\n      payload:{\n        _id:this.Idseleccionado,\n        cod_cat:this.cod_cat,\n        nombre:this.nombre,\n        precio:this.precio,\n        estado:this.estado\n      }\n    }\n  this.peticion.Post(post.host+post.path, post.payload).then(\n    (res:any) => {\n      console.log(res)\n      if(res.state == true){\n\n        Swal.fire({\n          icon: \"success\",\n          title: \"Que Bien!\",\n          text: res.mensaje,\n        });\n\n        $('#modalNuevo').modal('hide')\n        this.cargarTodas()\n      }\n      else{\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ouchh.\",\n          text: res.mensaje,\n        });\n      }\n    })\n  }\n\n\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}