{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let MisdatosComponent = class MisdatosComponent {\n  ngOnInit() {\n    this.cargarTodas;\n    this.cargarTodas();\n  }\n  constructor(peticion) {\n    this.peticion = peticion;\n    this.email = \"\";\n    this.nombre = \"\";\n    this.rol = '2';\n    this.direccion = \"\";\n    this.telefono = \"\";\n    this.estado = '0';\n    this.datos = [];\n    this.Idusuario = \"\";\n    this.ciudad = \"\";\n    this.password = \"\";\n    this.pwconf1 = \"\";\n    this.pwconf2 = \"\";\n  }\n  cargarTodas() {\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/usuarios/misdatos\",\n      payload: {}\n    };\n    this.peticion.Post(post.host + post.path, post.payload).then(res => {\n      console.log(res);\n      this.datos = res.data;\n      // this.nombre = res.data[0].nombre\n      // this.email = res.data[0].email\n      // this.estado = res.data[0].estado\n      // this.direccion = res.data[0].direccion\n      // this.telefono = res.data[0].telefono\n      // this.rol = res.data[0].rol\n      // this.Idusuario = res.data._id\n    });\n  }\n\n  EditarId(id) {\n    this.Idusuario = id;\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/usuarios/listarid\"\n    };\n    this.peticion.get(post.host + post.path + \"/\" + this.Idusuario).then(res => {\n      console.log(res);\n      this.email = res.data[0].email;\n      this.nombre = res.data[0].nombre;\n      this.estado = res.data[0].estado;\n      $('#modalNuevo').modal('show');\n    });\n  }\n  ActualizarDatos() {\n    let post = {\n      host: this.peticion.urlHost,\n      path: \"/usuarios/actualizardatos\",\n      payload: {\n        email: this.email,\n        nombre: this.nombre,\n        estado: this.estado,\n        direccion: this.direccion,\n        telefono: this.telefono\n      }\n    };\n    this.peticion.Post(post.host + post.path, post.payload).then(res => {\n      console.log(res);\n      if (res.state == true) {\n        Swal.fire({\n          icon: \"success\",\n          title: \"Que Bien!\",\n          text: res.mensaje\n        });\n        $('#modalNuevo').modal('hide');\n        this.cargarTodas();\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ouchh.\",\n          text: res.mensaje\n        });\n      }\n    });\n  }\n};\nMisdatosComponent = __decorate([Component({\n  selector: 'app-misdatos',\n  templateUrl: './misdatos.component.html',\n  styleUrls: ['./misdatos.component.css']\n})], MisdatosComponent);","map":{"version":3,"names":["Component","MisdatosComponent","ngOnInit","cargarTodas","constructor","peticion","email","nombre","rol","direccion","telefono","estado","datos","Idusuario","ciudad","password","pwconf1","pwconf2","post","host","urlHost","path","payload","Post","then","res","console","log","data","EditarId","id","get","$","modal","ActualizarDatos","state","Swal","fire","icon","title","text","mensaje","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\daniz\\Desktop\\Angular\\my-app\\src\\app\\component\\misdatos\\misdatos.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PeticionService } from '../../servicios/peticion.service';\n\ndeclare let $:any\ndeclare let Swal:any\n\n@Component({\n  selector: 'app-misdatos',\n  templateUrl: './misdatos.component.html',\n  styleUrls: ['./misdatos.component.css']\n})\nexport class MisdatosComponent implements OnInit{\n\n\n  ngOnInit(): void {\n    this.cargarTodas\n    this.cargarTodas()\n  }\n  \n  constructor (private peticion:PeticionService){}\n\n  email:string = \"\"\n  nombre:string = \"\"\n  rol:string = '2'\n  direccion: any = \"\"\n  telefono:any = \"\"\n  estado:string = '0'\n  datos:any[] = []\n  Idusuario:String =\"\"\n  ciudad:String = \"\" \n  password:any = \"\"\n  pwconf1:String = \"\"\n  pwconf2:String = \"\"\n  \n  cargarTodas(){\n\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/usuarios/misdatos\",\n      payload:{\n      }\n    }\n  this.peticion.Post(post.host+post.path, post.payload).then(\n    (res:any) => {\n      console.log(res)\n      this.datos = res.data\n\n      // this.nombre = res.data[0].nombre\n      // this.email = res.data[0].email\n      // this.estado = res.data[0].estado\n      // this.direccion = res.data[0].direccion\n      // this.telefono = res.data[0].telefono\n      // this.rol = res.data[0].rol\n      // this.Idusuario = res.data._id\n\n    }\n  )}\n\n  EditarId(id:string){\n    this.Idusuario =id\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/usuarios/listarid\",\n      \n    }\n  this.peticion.get(post.host+post.path + \"/\" + this.Idusuario).then(\n    (res:any) => {\n      console.log(res)\n      this.email = res.data[0].email\n      this.nombre = res.data[0].nombre\n      this.estado = res.data[0].estado\n      $('#modalNuevo').modal('show')\n    }\n  )\n  }\n\n  ActualizarDatos(){\n\n    let post = {\n      host:this.peticion.urlHost,\n      path:\"/usuarios/actualizardatos\",\n      payload:{\n\n        email:this.email,\n        nombre:this.nombre,\n        estado:this.estado,\n        direccion:this.direccion,\n        telefono:this.telefono,\n\n      }\n    }\n  this.peticion.Post(post.host+post.path, post.payload).then(\n    (res:any) => {\n      console.log(res)\n      if(res.state == true){\n\n        Swal.fire({\n          icon: \"success\",\n          title: \"Que Bien!\",\n          text: res.mensaje,\n        });\n\n        $('#modalNuevo').modal('hide')\n        this.cargarTodas()\n      }\n      else{\n        Swal.fire({\n          icon: \"error\",\n          title: \"Ouchh.\",\n          text: res.mensaje,\n        });\n      }\n    })\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAG5BC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW;IAChB,IAAI,CAACA,WAAW,EAAE;EACpB;EAEAC,YAAqBC,QAAwB;IAAxB,KAAAA,QAAQ,GAARA,QAAQ;IAE7B,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAC,MAAM,GAAU,EAAE;IAClB,KAAAC,GAAG,GAAU,GAAG;IAChB,KAAAC,SAAS,GAAQ,EAAE;IACnB,KAAAC,QAAQ,GAAO,EAAE;IACjB,KAAAC,MAAM,GAAU,GAAG;IACnB,KAAAC,KAAK,GAAS,EAAE;IAChB,KAAAC,SAAS,GAAS,EAAE;IACpB,KAAAC,MAAM,GAAU,EAAE;IAClB,KAAAC,QAAQ,GAAO,EAAE;IACjB,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,OAAO,GAAU,EAAE;EAb4B;EAe/Cd,WAAWA,CAAA;IAET,IAAIe,IAAI,GAAG;MACTC,IAAI,EAAC,IAAI,CAACd,QAAQ,CAACe,OAAO;MAC1BC,IAAI,EAAC,oBAAoB;MACzBC,OAAO,EAAC;KAET;IACH,IAAI,CAACjB,QAAQ,CAACkB,IAAI,CAACL,IAAI,CAACC,IAAI,GAACD,IAAI,CAACG,IAAI,EAAEH,IAAI,CAACI,OAAO,CAAC,CAACE,IAAI,CACvDC,GAAO,IAAI;MACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAI,CAACb,KAAK,GAAGa,GAAG,CAACG,IAAI;MAErB;MACA;MACA;MACA;MACA;MACA;MACA;IAEF,CAAC,CACF;EAAA;;EAEDC,QAAQA,CAACC,EAAS;IAChB,IAAI,CAACjB,SAAS,GAAEiB,EAAE;IAClB,IAAIZ,IAAI,GAAG;MACTC,IAAI,EAAC,IAAI,CAACd,QAAQ,CAACe,OAAO;MAC1BC,IAAI,EAAC;KAEN;IACH,IAAI,CAAChB,QAAQ,CAAC0B,GAAG,CAACb,IAAI,CAACC,IAAI,GAACD,IAAI,CAACG,IAAI,GAAG,GAAG,GAAG,IAAI,CAACR,SAAS,CAAC,CAACW,IAAI,CAC/DC,GAAO,IAAI;MACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAI,CAACnB,KAAK,GAAGmB,GAAG,CAACG,IAAI,CAAC,CAAC,CAAC,CAACtB,KAAK;MAC9B,IAAI,CAACC,MAAM,GAAGkB,GAAG,CAACG,IAAI,CAAC,CAAC,CAAC,CAACrB,MAAM;MAChC,IAAI,CAACI,MAAM,GAAGc,GAAG,CAACG,IAAI,CAAC,CAAC,CAAC,CAACjB,MAAM;MAChCqB,CAAC,CAAC,aAAa,CAAC,CAACC,KAAK,CAAC,MAAM,CAAC;IAChC,CAAC,CACF;EACD;EAEAC,eAAeA,CAAA;IAEb,IAAIhB,IAAI,GAAG;MACTC,IAAI,EAAC,IAAI,CAACd,QAAQ,CAACe,OAAO;MAC1BC,IAAI,EAAC,2BAA2B;MAChCC,OAAO,EAAC;QAENhB,KAAK,EAAC,IAAI,CAACA,KAAK;QAChBC,MAAM,EAAC,IAAI,CAACA,MAAM;QAClBI,MAAM,EAAC,IAAI,CAACA,MAAM;QAClBF,SAAS,EAAC,IAAI,CAACA,SAAS;QACxBC,QAAQ,EAAC,IAAI,CAACA;;KAGjB;IACH,IAAI,CAACL,QAAQ,CAACkB,IAAI,CAACL,IAAI,CAACC,IAAI,GAACD,IAAI,CAACG,IAAI,EAAEH,IAAI,CAACI,OAAO,CAAC,CAACE,IAAI,CACvDC,GAAO,IAAI;MACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAGA,GAAG,CAACU,KAAK,IAAI,IAAI,EAAC;QAEnBC,IAAI,CAACC,IAAI,CAAC;UACRC,IAAI,EAAE,SAAS;UACfC,KAAK,EAAE,WAAW;UAClBC,IAAI,EAAEf,GAAG,CAACgB;SACX,CAAC;QAEFT,CAAC,CAAC,aAAa,CAAC,CAACC,KAAK,CAAC,MAAM,CAAC;QAC9B,IAAI,CAAC9B,WAAW,EAAE;OACnB,MACG;QACFiC,IAAI,CAACC,IAAI,CAAC;UACRC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE,QAAQ;UACfC,IAAI,EAAEf,GAAG,CAACgB;SACX,CAAC;;IAEN,CAAC,CAAC;EACJ;CAED;AAxGYxC,iBAAiB,GAAAyC,UAAA,EAL7B1C,SAAS,CAAC;EACT2C,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW5C,iBAAiB,CAwG7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}